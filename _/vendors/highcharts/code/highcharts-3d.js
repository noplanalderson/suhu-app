/*
 Highcharts JS v9.0.0 (2021-02-02)

 3D features for Highcharts JS

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(C){a(C);a.Highcharts=C;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function C(a,u,p,v){a.hasOwnProperty(u)||(a[u]=v.apply(null,p))}a=a?a._modules:{};C(a,"Extensions/Math3D.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,u){function p(d,c,b){c=0<b&&b<Number.POSITIVE_INFINITY?
b/(d.z+c.z+b):1;return{x:d.x*c,y:d.y*c}}function v(d,c,b,m){var r=c.options.chart.options3d,l=w(m,b?c.inverted:!1),e={x:c.plotWidth/2,y:c.plotHeight/2,z:r.depth/2,vd:w(r.depth,1)*w(r.viewDistance,0)},f=c.scale3d||1;m=t*r.beta*(l?-1:1);r=t*r.alpha*(l?-1:1);var q=Math.cos(r),n=Math.cos(-m),D=Math.sin(r),a=Math.sin(-m);b||(e.x+=c.plotLeft,e.y+=c.plotTop);return d.map(function(b){var c=(l?b.y:b.x)-e.x;var k=(l?b.x:b.y)-e.y;b=(b.z||0)-e.z;c={x:n*c-a*b,y:-D*a*c+q*k-n*D*b,z:q*a*c+D*k+q*n*b};k=p(c,e,e.vd);
k.x=k.x*f+e.x;k.y=k.y*f+e.y;k.z=c.z*f+e.z;return{x:l?k.y:k.x,y:l?k.x:k.y,z:k.z}})}function d(d,c){var b=c.options.chart.options3d,m=c.plotWidth/2;c=c.plotHeight/2;b=w(b.depth,1)*w(b.viewDistance,0)+b.depth;return Math.sqrt(Math.pow(m-w(d.plotX,d.x),2)+Math.pow(c-w(d.plotY,d.y),2)+Math.pow(b-w(d.plotZ,d.z),2))}function x(d){var c=0,b;for(b=0;b<d.length;b++){var m=(b+1)%d.length;c+=d[b].x*d[m].y-d[m].x*d[b].y}return c/2}function g(d,c,b){return x(v(d,c,b))}var w=u.pick,t=a.deg2rad;a.perspective3D=p;
a.perspective=v;a.pointCameraDistance=d;a.shapeArea=x;a.shapeArea3d=g;return{perspective:v,perspective3D:p,pointCameraDistance:d,shapeArea:x,shapeArea3D:g}});C(a,"Core/Renderer/SVG/SVGElement3D.js",[a["Core/Color/Color.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,u,p){var v=a.parse,d=p.defined,x=p.merge,g=p.objectEach,w=p.pick,t;(function(a){a.base={initArgs:function(c){var b=this,d=b.renderer,a=d[b.pathType+"Path"](c),l=a.zIndexes;b.parts.forEach(function(e){b[e]=
d.path(a[e]).attr({"class":"highcharts-3d-"+e,zIndex:l[e]||0}).add(b)});b.attr({"stroke-linejoin":"round",zIndex:l.group});b.originalDestroy=b.destroy;b.destroy=b.destroyParts;b.forcedSides=a.forcedSides},singleSetterForParts:function(c,b,d,a,l,e){var f={};a=[null,null,a||"attr",l,e];var q=d&&d.zIndexes;d?(q&&q.group&&this.attr({zIndex:q.group}),g(d,function(b,e){f[e]={};f[e][c]=b;q&&(f[e].zIndex=d.zIndexes[e]||0)}),a[1]=f):(f[c]=b,a[0]=f);return this.processParts.apply(this,a)},processParts:function(c,
b,d,a,l){var e=this;e.parts.forEach(function(f){b&&(c=w(b[f],!1));if(!1!==c)e[f][d](c,a,l)});return e},destroyParts:function(){this.processParts(null,null,"destroy");return this.originalDestroy()}};a.cuboid=x(a.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(c,b,a,r){if("string"===typeof c&&"undefined"!==typeof b){var m=c;c={};c[m]=b}return c.shapeArgs||d(c.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](c.shapeArgs||c)):u.prototype.attr.call(this,c,void 0,
a,r)},animate:function(c,b,m){if(d(c.x)&&d(c.y)){c=this.renderer[this.pathType+"Path"](c);var r=c.forcedSides;this.singleSetterForParts("d",null,c,"animate",b,m);this.attr({zIndex:c.zIndexes.group});r!==this.forcedSides&&(this.forcedSides=r,a.cuboid.fillSetter.call(this,this.fill))}else u.prototype.animate.call(this,c,b,m);return this},fillSetter:function(c){this.forcedSides=this.forcedSides||[];this.singleSetterForParts("fill",null,{front:c,top:v(c).brighten(0<=this.forcedSides.indexOf("top")?0:
.1).get(),side:v(c).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()});this.color=this.fill=c;return this}})})(t||(t={}));return t});C(a,"Core/Renderer/SVG/SVGRenderer3D.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGElement3D.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,u,p,v,d,x,g,w){function t(b,e,c,f,d,n,a,q){var h=[],k=
n-d;return n>d&&n-d>Math.PI/2+.0001?(h=h.concat(t(b,e,c,f,d,d+Math.PI/2,a,q)),h=h.concat(t(b,e,c,f,d+Math.PI/2,n,a,q))):n<d&&d-n>Math.PI/2+.0001?(h=h.concat(t(b,e,c,f,d,d-Math.PI/2,a,q)),h=h.concat(t(b,e,c,f,d-Math.PI/2,n,a,q))):[["C",b+c*Math.cos(d)-c*E*k*Math.sin(d)+a,e+f*Math.sin(d)+f*E*k*Math.cos(d)+q,b+c*Math.cos(n)+c*E*k*Math.sin(n)+a,e+f*Math.sin(n)-f*E*k*Math.cos(n)+q,b+c*Math.cos(n)+a,e+f*Math.sin(n)+q]]}var l=a.animObject,c=u.parse,b=p.charts,m=p.deg2rad,r=v.perspective,B=v.shapeArea,e=
w.defined,f=w.extend,q=w.merge,n=w.pick,D=Math.cos,H=Math.sin,K=Math.PI,E=4*(Math.sqrt(2)-1)/3/(K/2);g.prototype.elements3d=x;g.prototype.toLinePath=function(b,e){var c=[];b.forEach(function(b){c.push(["L",b.x,b.y])});b.length&&(c[0][0]="M",e&&c.push(["Z"]));return c};g.prototype.toLineSegments=function(b){var e=[],c=!0;b.forEach(function(b){e.push(c?["M",b.x,b.y]:["L",b.x,b.y]);c=!c});return e};g.prototype.face3d=function(c){var f=this,h=this.createElement("path");h.vertexes=[];h.insidePlotArea=
!1;h.enabled=!0;h.attr=function(c){if("object"===typeof c&&(e(c.enabled)||e(c.vertexes)||e(c.insidePlotArea))){this.enabled=n(c.enabled,this.enabled);this.vertexes=n(c.vertexes,this.vertexes);this.insidePlotArea=n(c.insidePlotArea,this.insidePlotArea);delete c.enabled;delete c.vertexes;delete c.insidePlotArea;var h=r(this.vertexes,b[f.chartIndex],this.insidePlotArea),k=f.toLinePath(h,!0);h=B(h);h=this.enabled&&0<h?"visible":"hidden";c.d=k;c.visibility=h}return d.prototype.attr.apply(this,arguments)};
h.animate=function(c){if("object"===typeof c&&(e(c.enabled)||e(c.vertexes)||e(c.insidePlotArea))){this.enabled=n(c.enabled,this.enabled);this.vertexes=n(c.vertexes,this.vertexes);this.insidePlotArea=n(c.insidePlotArea,this.insidePlotArea);delete c.enabled;delete c.vertexes;delete c.insidePlotArea;var h=r(this.vertexes,b[f.chartIndex],this.insidePlotArea),k=f.toLinePath(h,!0);h=B(h);h=this.enabled&&0<h?"visible":"hidden";c.d=k;this.attr("visibility",h)}return d.prototype.animate.apply(this,arguments)};
return h.attr(c)};g.prototype.polyhedron=function(b){var c=this,h=this.g(),f=h.destroy;this.styledMode||h.attr({"stroke-linejoin":"round"});h.faces=[];h.destroy=function(){for(var b=0;b<h.faces.length;b++)h.faces[b].destroy();return f.call(this)};h.attr=function(b,f,n,k){if("object"===typeof b&&e(b.faces)){for(;h.faces.length>b.faces.length;)h.faces.pop().destroy();for(;h.faces.length<b.faces.length;)h.faces.push(c.face3d().add(h));for(var a=0;a<b.faces.length;a++)c.styledMode&&delete b.faces[a].fill,
h.faces[a].attr(b.faces[a],null,n,k);delete b.faces}return d.prototype.attr.apply(this,arguments)};h.animate=function(b,e,f){if(b&&b.faces){for(;h.faces.length>b.faces.length;)h.faces.pop().destroy();for(;h.faces.length<b.faces.length;)h.faces.push(c.face3d().add(h));for(var n=0;n<b.faces.length;n++)h.faces[n].animate(b.faces[n],e,f);delete b.faces}return d.prototype.animate.apply(this,arguments)};return h.attr(b)};g.prototype.element3d=function(b,c){var e=this.g();f(e,this.elements3d[b]);e.initArgs(c);
return e};g.prototype.cuboid=function(b){return this.element3d("cuboid",b)};g.prototype.cuboidPath=function(c){function e(b){return 0===k&&1<b&&6>b?{x:G[b].x,y:G[b].y+10,z:G[b].z}:G[0].x===G[7].x&&4<=b?{x:G[b].x+10,y:G[b].y,z:G[b].z}:0===m&&2>b||5<b?{x:G[b].x,y:G[b].y,z:G[b].z+10}:G[b]}function f(b){return G[b]}var d=c.x,n=c.y,a=c.z||0,k=c.height,q=c.width,m=c.depth,y=b[this.chartIndex],z=y.options.chart.options3d.alpha,F=0,G=[{x:d,y:n,z:a},{x:d+q,y:n,z:a},{x:d+q,y:n+k,z:a},{x:d,y:n+k,z:a},{x:d,y:n+
k,z:a+m},{x:d+q,y:n+k,z:a+m},{x:d+q,y:n,z:a+m},{x:d,y:n,z:a+m}],D=[];G=r(G,y,c.insidePlotArea);var A=function(b,c,z){var d=[[],-1],n=b.map(f),h=c.map(f);b=b.map(e);c=c.map(e);0>B(n)?d=[n,0]:0>B(h)?d=[h,1]:z&&(D.push(z),d=0>B(b)?[n,0]:0>B(c)?[h,1]:[n,0]);return d};var I=A([3,2,1,0],[7,6,5,4],"front");c=I[0];var l=I[1];I=A([1,6,7,0],[4,5,2,3],"top");q=I[0];var H=I[1];I=A([1,2,5,6],[0,7,4,3],"side");A=I[0];I=I[1];1===I?F+=1E6*(y.plotWidth-d):I||(F+=1E6*d);F+=10*(!H||0<=z&&180>=z||360>z&&357.5<z?y.plotHeight-
n:10+n);1===l?F+=100*a:l||(F+=100*(1E3-a));return{front:this.toLinePath(c,!0),top:this.toLinePath(q,!0),side:this.toLinePath(A,!0),zIndexes:{group:Math.round(F)},forcedSides:D,isFront:l,isTop:H}};g.prototype.arc3d=function(b){function e(b){var c=!1,e={},d;b=q(b);for(d in b)-1!==k.indexOf(d)&&(e[d]=b[d],delete b[d],c=!0);return c?[e,b]:!1}var h=this.g(),a=h.renderer,k="x y r innerR start end depth".split(" ");b=q(b);b.alpha=(b.alpha||0)*m;b.beta=(b.beta||0)*m;h.top=a.path();h.side1=a.path();h.side2=
a.path();h.inn=a.path();h.out=a.path();h.onAdd=function(){var b=h.parentGroup,c=h.attr("class");h.top.add(h);["out","inn","side1","side2"].forEach(function(e){h[e].attr({"class":c+" highcharts-3d-side"}).add(b)})};["addClass","removeClass"].forEach(function(b){h[b]=function(){var c=arguments;["top","out","inn","side1","side2"].forEach(function(e){h[e][b].apply(h[e],c)})}});h.setPaths=function(b){var c=h.renderer.arc3dPath(b),e=100*c.zTop;h.attribs=b;h.top.attr({d:c.top,zIndex:c.zTop});h.inn.attr({d:c.inn,
zIndex:c.zInn});h.out.attr({d:c.out,zIndex:c.zOut});h.side1.attr({d:c.side1,zIndex:c.zSide1});h.side2.attr({d:c.side2,zIndex:c.zSide2});h.zIndex=e;h.attr({zIndex:e});b.center&&(h.top.setRadialReference(b.center),delete b.center)};h.setPaths(b);h.fillSetter=function(b){var e=c(b).brighten(-.1).get();this.fill=b;this.side1.attr({fill:e});this.side2.attr({fill:e});this.inn.attr({fill:e});this.out.attr({fill:e});this.top.attr({fill:b});return this};["opacity","translateX","translateY","visibility"].forEach(function(b){h[b+
"Setter"]=function(b,c){h[c]=b;["out","inn","side1","side2","top"].forEach(function(e){h[e].attr(c,b)})}});h.attr=function(b){var c;if("object"===typeof b&&(c=e(b))){var n=c[0];arguments[0]=c[1];f(h.attribs,n);h.setPaths(h.attribs)}return d.prototype.attr.apply(h,arguments)};h.animate=function(b,c,f){var a=this.attribs,k="data-"+Math.random().toString(26).substring(2,9);delete b.center;delete b.z;delete b.alpha;delete b.beta;var z=l(n(c,this.renderer.globalAnimation));if(z.duration){c=e(b);h[k]=0;
b[k]=1;h[k+"Setter"]=p.noop;if(c){var F=c[0];z.step=function(b,c){function e(b){return a[b]+(n(F[b],a[b])-a[b])*c.pos}c.prop===k&&c.elem.setPaths(q(a,{x:e("x"),y:e("y"),r:e("r"),innerR:e("innerR"),start:e("start"),end:e("end"),depth:e("depth")}))}}c=z}return d.prototype.animate.call(this,b,c,f)};h.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();return d.prototype.destroy.call(this)};h.hide=function(){this.top.hide();this.out.hide();
this.inn.hide();this.side1.hide();this.side2.hide()};h.show=function(b){this.top.show(b);this.out.show(b);this.inn.show(b);this.side1.show(b);this.side2.show(b)};return h};g.prototype.arc3dPath=function(b){function c(b){b%=2*Math.PI;b>Math.PI&&(b=2*Math.PI-b);return b}var e=b.x,d=b.y,n=b.start,f=b.end-.00001,a=b.r,q=b.innerR||0,k=b.depth||0,y=b.alpha,z=b.beta,F=Math.cos(n),m=Math.sin(n);b=Math.cos(f);var l=Math.sin(f),A=a*Math.cos(z);a*=Math.cos(y);var r=q*Math.cos(z),J=q*Math.cos(y);q=k*Math.sin(z);
var g=k*Math.sin(y);k=[["M",e+A*F,d+a*m]];k=k.concat(t(e,d,A,a,n,f,0,0));k.push(["L",e+r*b,d+J*l]);k=k.concat(t(e,d,r,J,f,n,0,0));k.push(["Z"]);var B=0<z?Math.PI/2:0;z=0<y?0:Math.PI/2;B=n>-B?n:f>-B?-B:n;var E=f<K-z?f:n<K-z?K-z:f,p=2*K-z;y=[["M",e+A*D(B),d+a*H(B)]];y=y.concat(t(e,d,A,a,B,E,0,0));f>p&&n<p?(y.push(["L",e+A*D(E)+q,d+a*H(E)+g]),y=y.concat(t(e,d,A,a,E,p,q,g)),y.push(["L",e+A*D(p),d+a*H(p)]),y=y.concat(t(e,d,A,a,p,f,0,0)),y.push(["L",e+A*D(f)+q,d+a*H(f)+g]),y=y.concat(t(e,d,A,a,f,p,q,g)),
y.push(["L",e+A*D(p),d+a*H(p)]),y=y.concat(t(e,d,A,a,p,E,0,0))):f>K-z&&n<K-z&&(y.push(["L",e+A*Math.cos(E)+q,d+a*Math.sin(E)+g]),y=y.concat(t(e,d,A,a,E,f,q,g)),y.push(["L",e+A*Math.cos(f),d+a*Math.sin(f)]),y=y.concat(t(e,d,A,a,f,E,0,0)));y.push(["L",e+A*Math.cos(E)+q,d+a*Math.sin(E)+g]);y=y.concat(t(e,d,A,a,E,B,q,g));y.push(["Z"]);z=[["M",e+r*F,d+J*m]];z=z.concat(t(e,d,r,J,n,f,0,0));z.push(["L",e+r*Math.cos(f)+q,d+J*Math.sin(f)+g]);z=z.concat(t(e,d,r,J,f,n,q,g));z.push(["Z"]);F=[["M",e+A*F,d+a*m],
["L",e+A*F+q,d+a*m+g],["L",e+r*F+q,d+J*m+g],["L",e+r*F,d+J*m],["Z"]];e=[["M",e+A*b,d+a*l],["L",e+A*b+q,d+a*l+g],["L",e+r*b+q,d+J*l+g],["L",e+r*b,d+J*l],["Z"]];l=Math.atan2(g,-q);d=Math.abs(f+l);b=Math.abs(n+l);n=Math.abs((n+f)/2+l);d=c(d);b=c(b);n=c(n);n*=1E5;f=1E5*b;d*=1E5;return{top:k,zTop:1E5*Math.PI+1,out:y,zOut:Math.max(n,f,d),inn:z,zInn:Math.max(n,f,d),side1:F,zSide1:.99*d,side2:e,zSide2:.99*f}};return g});C(a,"Core/Axis/Tick3D.js",[a["Core/Utilities.js"]],function(a){var u=a.addEvent,p=a.extend,
v=a.wrap;return function(){function d(){}d.compose=function(a){u(a,"afterGetLabelPosition",d.onAfterGetLabelPosition);v(a.prototype,"getMarkPath",d.wrapGetMarkPath)};d.onAfterGetLabelPosition=function(d){var a=this.axis.axis3D;a&&p(d.pos,a.fix3dPosition(d.pos))};d.wrapGetMarkPath=function(d){var a=this.axis.axis3D,p=d.apply(this,[].slice.call(arguments,1));if(a){var t=p[0],l=p[1];if("M"===t[0]&&"L"===l[0])return a=[a.fix3dPosition({x:t[1],y:t[2],z:0}),a.fix3dPosition({x:l[1],y:l[2],z:0})],this.axis.chart.renderer.toLineSegments(a)}return p};
return d}()});C(a,"Core/Axis/Axis3D.js",[a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Axis/Tick.js"],a["Core/Axis/Tick3D.js"],a["Core/Utilities.js"]],function(a,u,p,v,d){var x=u.perspective,g=u.perspective3D,w=u.shapeArea,t=d.addEvent,l=d.merge,c=d.pick,b=d.wrap,m=a.deg2rad,r=function(){function b(b){this.axis=b}b.prototype.fix3dPosition=function(b,d){var e=this.axis,a=e.chart;if("colorAxis"===e.coll||!a.chart3d||!a.is3d())return b;var f=m*a.options.chart.options3d.alpha,l=m*a.options.chart.options3d.beta,
r=c(d&&e.options.title.position3d,e.options.labels.position3d);d=c(d&&e.options.title.skew3d,e.options.labels.skew3d);var g=a.chart3d.frame3d,k=a.plotLeft,p=a.plotWidth+k,h=a.plotTop,B=a.plotHeight+h;a=!1;var t=0,u=0,v={x:0,y:1,z:0};b=e.axis3D.swapZ({x:b.x,y:b.y,z:0});if(e.isZAxis)if(e.opposite){if(null===g.axes.z.top)return{};u=b.y-h;b.x=g.axes.z.top.x;b.y=g.axes.z.top.y;k=g.axes.z.top.xDir;a=!g.top.frontFacing}else{if(null===g.axes.z.bottom)return{};u=b.y-B;b.x=g.axes.z.bottom.x;b.y=g.axes.z.bottom.y;
k=g.axes.z.bottom.xDir;a=!g.bottom.frontFacing}else if(e.horiz)if(e.opposite){if(null===g.axes.x.top)return{};u=b.y-h;b.y=g.axes.x.top.y;b.z=g.axes.x.top.z;k=g.axes.x.top.xDir;a=!g.top.frontFacing}else{if(null===g.axes.x.bottom)return{};u=b.y-B;b.y=g.axes.x.bottom.y;b.z=g.axes.x.bottom.z;k=g.axes.x.bottom.xDir;a=!g.bottom.frontFacing}else if(e.opposite){if(null===g.axes.y.right)return{};t=b.x-p;b.x=g.axes.y.right.x;b.z=g.axes.y.right.z;k=g.axes.y.right.xDir;k={x:k.z,y:k.y,z:-k.x}}else{if(null===g.axes.y.left)return{};
t=b.x-k;b.x=g.axes.y.left.x;b.z=g.axes.y.left.z;k=g.axes.y.left.xDir}"chart"!==r&&("flap"===r?e.horiz?(l=Math.sin(f),f=Math.cos(f),e.opposite&&(l=-l),a&&(l=-l),v={x:k.z*l,y:f,z:-k.x*l}):k={x:Math.cos(l),y:0,z:Math.sin(l)}:"ortho"===r?e.horiz?(v=Math.cos(f),r=Math.sin(l)*v,f=-Math.sin(f),l=-v*Math.cos(l),v={x:k.y*l-k.z*f,y:k.z*r-k.x*l,z:k.x*f-k.y*r},f=1/Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z),a&&(f=-f),v={x:f*v.x,y:f*v.y,z:f*v.z}):k={x:Math.cos(l),y:0,z:Math.sin(l)}:e.horiz?v={x:Math.sin(l)*Math.sin(f),
y:Math.cos(f),z:-Math.cos(l)*Math.sin(f)}:k={x:Math.cos(l),y:0,z:Math.sin(l)});b.x+=t*k.x+u*v.x;b.y+=t*k.y+u*v.y;b.z+=t*k.z+u*v.z;a=x([b],e.chart)[0];d&&(0>w(x([b,{x:b.x+k.x,y:b.y+k.y,z:b.z+k.z},{x:b.x+v.x,y:b.y+v.y,z:b.z+v.z}],e.chart))&&(k={x:-k.x,y:-k.y,z:-k.z}),b=x([{x:b.x,y:b.y,z:b.z},{x:b.x+k.x,y:b.y+k.y,z:b.z+k.z},{x:b.x+v.x,y:b.y+v.y,z:b.z+v.z}],e.chart),a.matrix=[b[1].x-b[0].x,b[1].y-b[0].y,b[2].x-b[0].x,b[2].y-b[0].y,a.x,a.y],a.matrix[4]-=a.x*a.matrix[0]+a.y*a.matrix[2],a.matrix[5]-=a.x*
a.matrix[1]+a.y*a.matrix[3]);return a};b.prototype.swapZ=function(b,c){var e=this.axis;return e.isZAxis?(c=c?0:e.chart.plotLeft,{x:c+b.z,y:b.y,z:b.x-c}):b};return b}();return function(){function a(){}a.compose=function(c){l(!0,c.defaultOptions,a.defaultOptions);c.keepProps.push("axis3D");t(c,"init",a.onInit);t(c,"afterSetOptions",a.onAfterSetOptions);t(c,"drawCrosshair",a.onDrawCrosshair);t(c,"destroy",a.onDestroy);c=c.prototype;b(c,"getLinePath",a.wrapGetLinePath);b(c,"getPlotBandPath",a.wrapGetPlotBandPath);
b(c,"getPlotLinePath",a.wrapGetPlotLinePath);b(c,"getSlotWidth",a.wrapGetSlotWidth);b(c,"getTitlePosition",a.wrapGetTitlePosition);v.compose(p)};a.onAfterSetOptions=function(){var b=this.chart,a=this.options;b.is3d&&b.is3d()&&"colorAxis"!==this.coll&&(a.tickWidth=c(a.tickWidth,0),a.gridLineWidth=c(a.gridLineWidth,1))};a.onDestroy=function(){["backFrame","bottomFrame","sideFrame"].forEach(function(b){this[b]&&(this[b]=this[b].destroy())},this)};a.onDrawCrosshair=function(b){this.chart.is3d()&&"colorAxis"!==
this.coll&&b.point&&(b.point.crosshairPos=this.isXAxis?b.point.axisXpos:this.len-b.point.axisYpos)};a.onInit=function(){this.axis3D||(this.axis3D=new r(this))};a.wrapGetLinePath=function(b){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:b.apply(this,[].slice.call(arguments,1))};a.wrapGetPlotBandPath=function(b){if(!this.chart.is3d()||"colorAxis"===this.coll)return b.apply(this,[].slice.call(arguments,1));var c=arguments,a=c[2],d=[];c=this.getPlotLinePath({value:c[1]});a=this.getPlotLinePath({value:a});
if(c&&a)for(var e=0;e<c.length;e+=2){var l=c[e],m=c[e+1],r=a[e],k=a[e+1];"M"===l[0]&&"L"===m[0]&&"M"===r[0]&&"L"===k[0]&&d.push(l,m,k,["L",r[1],r[2]],["Z"])}return d};a.wrapGetPlotLinePath=function(b){var c=this.axis3D,a=this.chart,d=b.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!a.chart3d||!a.is3d()||null===d)return d;var e=a.options.chart.options3d,l=this.isZAxis?a.plotWidth:e.depth;e=a.chart3d.frame3d;var m=d[0],r=d[1];d=[];"M"===m[0]&&"L"===r[0]&&(c=[c.swapZ({x:m[1],y:m[2],
z:0}),c.swapZ({x:m[1],y:m[2],z:l}),c.swapZ({x:r[1],y:r[2],z:0}),c.swapZ({x:r[1],y:r[2],z:l})],this.horiz?(this.isZAxis?(e.left.visible&&d.push(c[0],c[2]),e.right.visible&&d.push(c[1],c[3])):(e.front.visible&&d.push(c[0],c[2]),e.back.visible&&d.push(c[1],c[3])),e.top.visible&&d.push(c[0],c[1]),e.bottom.visible&&d.push(c[2],c[3])):(e.front.visible&&d.push(c[0],c[2]),e.back.visible&&d.push(c[1],c[3]),e.left.visible&&d.push(c[0],c[1]),e.right.visible&&d.push(c[2],c[3])),d=x(d,this.chart,!1));return a.renderer.toLineSegments(d)};
a.wrapGetSlotWidth=function(b,a){var d=this.chart,e=this.ticks,f=this.gridGroup;if(this.categories&&d.frameShapes&&d.is3d()&&f&&a&&a.label){f=f.element.childNodes[0].getBBox();var l=d.frameShapes.left.getBBox(),m=d.options.chart.options3d;d={x:d.plotWidth/2,y:d.plotHeight/2,z:m.depth/2,vd:c(m.depth,1)*c(m.viewDistance,0)};var r,k;m=a.pos;var p=e[m-1];e=e[m+1];0!==m&&p&&p.label&&p.label.xy&&(r=g({x:p.label.xy.x,y:p.label.xy.y,z:null},d,d.vd));e&&e.label&&e.label.xy&&(k=g({x:e.label.xy.x,y:e.label.xy.y,
z:null},d,d.vd));e={x:a.label.xy.x,y:a.label.xy.y,z:null};e=g(e,d,d.vd);return Math.abs(r?e.x-r.x:k?k.x-e.x:f.x-l.x)}return b.apply(this,[].slice.call(arguments,1))};a.wrapGetTitlePosition=function(b){var c=b.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(c,!0):c};a.defaultOptions={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}};return a}()});C(a,"Core/Axis/ZAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,u){var p=
this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)c.hasOwnProperty(a)&&(b[a]=c[a])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),v=u.addEvent,d=u.merge,x=u.pick,g=u.splat,w=function(){function a(){}a.compose=function(c){v(c,"afterGetAxes",a.onAfterGetAxes);c=c.prototype;c.addZAxis=
a.wrapAddZAxis;c.collectionsWithInit.zAxis=[c.addZAxis];c.collectionsWithUpdate.push("zAxis")};a.onAfterGetAxes=function(){var c=this,b=this.options;b=b.zAxis=g(b.zAxis||{});c.is3d()&&(c.zAxis=[],b.forEach(function(b,a){b.index=a;b.isX=!0;c.addZAxis(b).setScale()}))};a.wrapAddZAxis=function(c){return new t(this,c)};return a}(),t=function(a){function c(b,c){b=a.call(this,b,c)||this;b.isZAxis=!0;return b}p(c,a);c.prototype.getSeriesExtremes=function(){var b=this,c=b.chart;b.hasVisibleSeries=!1;b.dataMin=
b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=void 0;b.stacking&&b.stacking.buildStacks();b.series.forEach(function(a){!a.visible&&c.options.chart&&c.options.chart.ignoreHiddenSeries||(b.hasVisibleSeries=!0,a=a.zData,a.length&&(b.dataMin=Math.min(x(b.dataMin,a[0]),Math.min.apply(null,a)),b.dataMax=Math.max(x(b.dataMax,a[0]),Math.max.apply(null,a))))})};c.prototype.setAxisSize=function(){var b=this.chart;a.prototype.setAxisSize.call(this);this.width=this.len=b.options.chart&&b.options.chart.options3d&&
b.options.chart.options3d.depth||0;this.right=b.chartWidth-this.width-this.left};c.prototype.setOptions=function(b){b=d({offset:0,lineWidth:0},b);this.isZAxis=!0;a.prototype.setOptions.call(this,b);this.coll="zAxis"};c.ZChartComposition=w;return c}(a);return t});C(a,"Core/Chart/Chart3D.js",[a["Core/Axis/Axis.js"],a["Core/Axis/Axis3D.js"],a["Core/Chart/Chart.js"],a["Core/Animation/Fx.js"],a["Core/Globals.js"],a["Extensions/Math3D.js"],a["Core/Options.js"],a["Core/Utilities.js"],a["Core/Axis/ZAxis.js"]],
function(a,u,p,v,d,x,g,w,t){var l=x.perspective,c=x.shapeArea3D,b=g.defaultOptions,m=w.addEvent,r=w.isArray,B=w.merge,e=w.pick,f=w.wrap,q;(function(a){function n(b){this.is3d()&&"scatter"===b.options.type&&(b.options.type="scatter3d")}function g(){if(this.chart3d&&this.is3d()){var b=this.renderer,c=this.options.chart.options3d,a=this.chart3d.get3dFrame(),e=this.plotLeft,f=this.plotLeft+this.plotWidth,k=this.plotTop,h=this.plotTop+this.plotHeight;c=c.depth;var n=e-(a.left.visible?a.left.size:0),l=
f+(a.right.visible?a.right.size:0),m=k-(a.top.visible?a.top.size:0),g=h+(a.bottom.visible?a.bottom.size:0),r=0-(a.front.visible?a.front.size:0),q=c+(a.back.visible?a.back.size:0),p=this.hasRendered?"animate":"attr";this.chart3d.frame3d=a;this.frameShapes||(this.frameShapes={bottom:b.polyhedron().add(),top:b.polyhedron().add(),left:b.polyhedron().add(),right:b.polyhedron().add(),back:b.polyhedron().add(),front:b.polyhedron().add()});this.frameShapes.bottom[p]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",
zIndex:a.bottom.frontFacing?-1E3:1E3,faces:[{fill:d.color(a.bottom.color).brighten(.1).get(),vertexes:[{x:n,y:g,z:r},{x:l,y:g,z:r},{x:l,y:g,z:q},{x:n,y:g,z:q}],enabled:a.bottom.visible},{fill:d.color(a.bottom.color).brighten(.1).get(),vertexes:[{x:e,y:h,z:c},{x:f,y:h,z:c},{x:f,y:h,z:0},{x:e,y:h,z:0}],enabled:a.bottom.visible},{fill:d.color(a.bottom.color).brighten(-.1).get(),vertexes:[{x:n,y:g,z:r},{x:n,y:g,z:q},{x:e,y:h,z:c},{x:e,y:h,z:0}],enabled:a.bottom.visible&&!a.left.visible},{fill:d.color(a.bottom.color).brighten(-.1).get(),
vertexes:[{x:l,y:g,z:q},{x:l,y:g,z:r},{x:f,y:h,z:0},{x:f,y:h,z:c}],enabled:a.bottom.visible&&!a.right.visible},{fill:d.color(a.bottom.color).get(),vertexes:[{x:l,y:g,z:r},{x:n,y:g,z:r},{x:e,y:h,z:0},{x:f,y:h,z:0}],enabled:a.bottom.visible&&!a.front.visible},{fill:d.color(a.bottom.color).get(),vertexes:[{x:n,y:g,z:q},{x:l,y:g,z:q},{x:f,y:h,z:c},{x:e,y:h,z:c}],enabled:a.bottom.visible&&!a.back.visible}]});this.frameShapes.top[p]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:a.top.frontFacing?
-1E3:1E3,faces:[{fill:d.color(a.top.color).brighten(.1).get(),vertexes:[{x:n,y:m,z:q},{x:l,y:m,z:q},{x:l,y:m,z:r},{x:n,y:m,z:r}],enabled:a.top.visible},{fill:d.color(a.top.color).brighten(.1).get(),vertexes:[{x:e,y:k,z:0},{x:f,y:k,z:0},{x:f,y:k,z:c},{x:e,y:k,z:c}],enabled:a.top.visible},{fill:d.color(a.top.color).brighten(-.1).get(),vertexes:[{x:n,y:m,z:q},{x:n,y:m,z:r},{x:e,y:k,z:0},{x:e,y:k,z:c}],enabled:a.top.visible&&!a.left.visible},{fill:d.color(a.top.color).brighten(-.1).get(),vertexes:[{x:l,
y:m,z:r},{x:l,y:m,z:q},{x:f,y:k,z:c},{x:f,y:k,z:0}],enabled:a.top.visible&&!a.right.visible},{fill:d.color(a.top.color).get(),vertexes:[{x:n,y:m,z:r},{x:l,y:m,z:r},{x:f,y:k,z:0},{x:e,y:k,z:0}],enabled:a.top.visible&&!a.front.visible},{fill:d.color(a.top.color).get(),vertexes:[{x:l,y:m,z:q},{x:n,y:m,z:q},{x:e,y:k,z:c},{x:f,y:k,z:c}],enabled:a.top.visible&&!a.back.visible}]});this.frameShapes.left[p]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:a.left.frontFacing?-1E3:1E3,faces:[{fill:d.color(a.left.color).brighten(.1).get(),
vertexes:[{x:n,y:g,z:r},{x:e,y:h,z:0},{x:e,y:h,z:c},{x:n,y:g,z:q}],enabled:a.left.visible&&!a.bottom.visible},{fill:d.color(a.left.color).brighten(.1).get(),vertexes:[{x:n,y:m,z:q},{x:e,y:k,z:c},{x:e,y:k,z:0},{x:n,y:m,z:r}],enabled:a.left.visible&&!a.top.visible},{fill:d.color(a.left.color).brighten(-.1).get(),vertexes:[{x:n,y:g,z:q},{x:n,y:m,z:q},{x:n,y:m,z:r},{x:n,y:g,z:r}],enabled:a.left.visible},{fill:d.color(a.left.color).brighten(-.1).get(),vertexes:[{x:e,y:k,z:c},{x:e,y:h,z:c},{x:e,y:h,z:0},
{x:e,y:k,z:0}],enabled:a.left.visible},{fill:d.color(a.left.color).get(),vertexes:[{x:n,y:g,z:r},{x:n,y:m,z:r},{x:e,y:k,z:0},{x:e,y:h,z:0}],enabled:a.left.visible&&!a.front.visible},{fill:d.color(a.left.color).get(),vertexes:[{x:n,y:m,z:q},{x:n,y:g,z:q},{x:e,y:h,z:c},{x:e,y:k,z:c}],enabled:a.left.visible&&!a.back.visible}]});this.frameShapes.right[p]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:a.right.frontFacing?-1E3:1E3,faces:[{fill:d.color(a.right.color).brighten(.1).get(),
vertexes:[{x:l,y:g,z:q},{x:f,y:h,z:c},{x:f,y:h,z:0},{x:l,y:g,z:r}],enabled:a.right.visible&&!a.bottom.visible},{fill:d.color(a.right.color).brighten(.1).get(),vertexes:[{x:l,y:m,z:r},{x:f,y:k,z:0},{x:f,y:k,z:c},{x:l,y:m,z:q}],enabled:a.right.visible&&!a.top.visible},{fill:d.color(a.right.color).brighten(-.1).get(),vertexes:[{x:f,y:k,z:0},{x:f,y:h,z:0},{x:f,y:h,z:c},{x:f,y:k,z:c}],enabled:a.right.visible},{fill:d.color(a.right.color).brighten(-.1).get(),vertexes:[{x:l,y:g,z:r},{x:l,y:m,z:r},{x:l,y:m,
z:q},{x:l,y:g,z:q}],enabled:a.right.visible},{fill:d.color(a.right.color).get(),vertexes:[{x:l,y:m,z:r},{x:l,y:g,z:r},{x:f,y:h,z:0},{x:f,y:k,z:0}],enabled:a.right.visible&&!a.front.visible},{fill:d.color(a.right.color).get(),vertexes:[{x:l,y:g,z:q},{x:l,y:m,z:q},{x:f,y:k,z:c},{x:f,y:h,z:c}],enabled:a.right.visible&&!a.back.visible}]});this.frameShapes.back[p]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:a.back.frontFacing?-1E3:1E3,faces:[{fill:d.color(a.back.color).brighten(.1).get(),
vertexes:[{x:l,y:g,z:q},{x:n,y:g,z:q},{x:e,y:h,z:c},{x:f,y:h,z:c}],enabled:a.back.visible&&!a.bottom.visible},{fill:d.color(a.back.color).brighten(.1).get(),vertexes:[{x:n,y:m,z:q},{x:l,y:m,z:q},{x:f,y:k,z:c},{x:e,y:k,z:c}],enabled:a.back.visible&&!a.top.visible},{fill:d.color(a.back.color).brighten(-.1).get(),vertexes:[{x:n,y:g,z:q},{x:n,y:m,z:q},{x:e,y:k,z:c},{x:e,y:h,z:c}],enabled:a.back.visible&&!a.left.visible},{fill:d.color(a.back.color).brighten(-.1).get(),vertexes:[{x:l,y:m,z:q},{x:l,y:g,
z:q},{x:f,y:h,z:c},{x:f,y:k,z:c}],enabled:a.back.visible&&!a.right.visible},{fill:d.color(a.back.color).get(),vertexes:[{x:e,y:k,z:c},{x:f,y:k,z:c},{x:f,y:h,z:c},{x:e,y:h,z:c}],enabled:a.back.visible},{fill:d.color(a.back.color).get(),vertexes:[{x:n,y:g,z:q},{x:l,y:g,z:q},{x:l,y:m,z:q},{x:n,y:m,z:q}],enabled:a.back.visible}]});this.frameShapes.front[p]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:a.front.frontFacing?-1E3:1E3,faces:[{fill:d.color(a.front.color).brighten(.1).get(),
vertexes:[{x:n,y:g,z:r},{x:l,y:g,z:r},{x:f,y:h,z:0},{x:e,y:h,z:0}],enabled:a.front.visible&&!a.bottom.visible},{fill:d.color(a.front.color).brighten(.1).get(),vertexes:[{x:l,y:m,z:r},{x:n,y:m,z:r},{x:e,y:k,z:0},{x:f,y:k,z:0}],enabled:a.front.visible&&!a.top.visible},{fill:d.color(a.front.color).brighten(-.1).get(),vertexes:[{x:n,y:m,z:r},{x:n,y:g,z:r},{x:e,y:h,z:0},{x:e,y:k,z:0}],enabled:a.front.visible&&!a.left.visible},{fill:d.color(a.front.color).brighten(-.1).get(),vertexes:[{x:l,y:g,z:r},{x:l,
y:m,z:r},{x:f,y:k,z:0},{x:f,y:h,z:0}],enabled:a.front.visible&&!a.right.visible},{fill:d.color(a.front.color).get(),vertexes:[{x:f,y:k,z:0},{x:e,y:k,z:0},{x:e,y:h,z:0},{x:f,y:h,z:0}],enabled:a.front.visible},{fill:d.color(a.front.color).get(),vertexes:[{x:l,y:g,z:r},{x:n,y:g,z:r},{x:n,y:m,z:r},{x:l,y:m,z:r}],enabled:a.front.visible}]})}}function q(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"}),
[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(b){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+b.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:b.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:b.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:b.slope}}]}]})},this))}function p(){var b=this.options;this.is3d()&&(b.series||[]).forEach(function(a){"scatter"===(a.type||
b.chart.type||b.chart.defaultSeriesType)&&(a.type="scatter3d")})}function k(){var b=this.options.chart.options3d;if(this.chart3d&&this.is3d()){b&&(b.alpha=b.alpha%360+(0<=b.alpha?0:360),b.beta=b.beta%360+(0<=b.beta?0:360));var a=this.inverted,c=this.clipBox,e=this.margin;c[a?"y":"x"]=-(e[3]||0);c[a?"x":"y"]=-(e[0]||0);c[a?"height":"width"]=this.chartWidth+(e[3]||0)+(e[1]||0);c[a?"width":"height"]=this.chartHeight+(e[0]||0)+(e[2]||0);this.scale3d=1;!0===b.fitToPlot&&(this.scale3d=this.chart3d.getScale(b.depth));
this.chart3d.frame3d=this.chart3d.get3dFrame()}}function t(){this.is3d()&&(this.isDirtyBox=!0)}function h(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function v(){this.chart3d||(this.chart3d=new L(this))}function u(b){return this.is3d()||b.apply(this,[].slice.call(arguments,1))}function w(b){var a=this.series.length;if(this.is3d())for(;a--;)b=this.series[a],b.translate(),b.render();else b.call(this)}function x(b){b.apply(this,[].slice.call(arguments,1));this.is3d()&&
(this.container.className+=" highcharts-3d-chart")}var L=function(){function b(b){this.frame3d=void 0;this.chart=b}b.prototype.get3dFrame=function(){var b=this.chart,a=b.options.chart.options3d,d=a.frame,f=b.plotLeft,k=b.plotLeft+b.plotWidth,h=b.plotTop,n=b.plotTop+b.plotHeight,m=a.depth,g=function(a){a=c(a,b);return.5<a?1:-.5>a?-1:0},r=g([{x:f,y:n,z:m},{x:k,y:n,z:m},{x:k,y:n,z:0},{x:f,y:n,z:0}]),q=g([{x:f,y:h,z:0},{x:k,y:h,z:0},{x:k,y:h,z:m},{x:f,y:h,z:m}]),p=g([{x:f,y:h,z:0},{x:f,y:h,z:m},{x:f,
y:n,z:m},{x:f,y:n,z:0}]),t=g([{x:k,y:h,z:m},{x:k,y:h,z:0},{x:k,y:n,z:0},{x:k,y:n,z:m}]),v=g([{x:f,y:n,z:0},{x:k,y:n,z:0},{x:k,y:h,z:0},{x:f,y:h,z:0}]);g=g([{x:f,y:h,z:m},{x:k,y:h,z:m},{x:k,y:n,z:m},{x:f,y:n,z:m}]);var u=!1,H=!1,D=!1,w=!1;[].concat(b.xAxis,b.yAxis,b.zAxis).forEach(function(b){b&&(b.horiz?b.opposite?H=!0:u=!0:b.opposite?w=!0:D=!0)});var x=function(b,a,c){for(var d=["size","color","visible"],f={},k=0;k<d.length;k++)for(var n=d[k],h=0;h<b.length;h++)if("object"===typeof b[h]){var m=b[h][n];
if("undefined"!==typeof m&&null!==m){f[n]=m;break}}b=c;!0===f.visible||!1===f.visible?b=f.visible:"auto"===f.visible&&(b=0<a);return{size:e(f.size,1),color:e(f.color,"none"),frontFacing:0<a,visible:b}};d={axes:{},bottom:x([d.bottom,d.top,d],r,u),top:x([d.top,d.bottom,d],q,H),left:x([d.left,d.right,d.side,d],p,D),right:x([d.right,d.left,d.side,d],t,w),back:x([d.back,d.front,d],g,!0),front:x([d.front,d.back,d],v,!1)};"auto"===a.axisLabelPosition?(t=function(b,a){return b.visible!==a.visible||b.visible&&
a.visible&&b.frontFacing!==a.frontFacing},a=[],t(d.left,d.front)&&a.push({y:(h+n)/2,x:f,z:0,xDir:{x:1,y:0,z:0}}),t(d.left,d.back)&&a.push({y:(h+n)/2,x:f,z:m,xDir:{x:0,y:0,z:-1}}),t(d.right,d.front)&&a.push({y:(h+n)/2,x:k,z:0,xDir:{x:0,y:0,z:1}}),t(d.right,d.back)&&a.push({y:(h+n)/2,x:k,z:m,xDir:{x:-1,y:0,z:0}}),r=[],t(d.bottom,d.front)&&r.push({x:(f+k)/2,y:n,z:0,xDir:{x:1,y:0,z:0}}),t(d.bottom,d.back)&&r.push({x:(f+k)/2,y:n,z:m,xDir:{x:-1,y:0,z:0}}),q=[],t(d.top,d.front)&&q.push({x:(f+k)/2,y:h,z:0,
xDir:{x:1,y:0,z:0}}),t(d.top,d.back)&&q.push({x:(f+k)/2,y:h,z:m,xDir:{x:-1,y:0,z:0}}),p=[],t(d.bottom,d.left)&&p.push({z:(0+m)/2,y:n,x:f,xDir:{x:0,y:0,z:-1}}),t(d.bottom,d.right)&&p.push({z:(0+m)/2,y:n,x:k,xDir:{x:0,y:0,z:1}}),n=[],t(d.top,d.left)&&n.push({z:(0+m)/2,y:h,x:f,xDir:{x:0,y:0,z:-1}}),t(d.top,d.right)&&n.push({z:(0+m)/2,y:h,x:k,xDir:{x:0,y:0,z:1}}),f=function(a,c,d){if(0===a.length)return null;if(1===a.length)return a[0];for(var e=0,f=l(a,b,!1),k=1;k<f.length;k++)d*f[k][c]>d*f[e][c]?e=
k:d*f[k][c]===d*f[e][c]&&f[k].z<f[e].z&&(e=k);return a[e]},d.axes={y:{left:f(a,"x",-1),right:f(a,"x",1)},x:{top:f(q,"y",-1),bottom:f(r,"y",1)},z:{top:f(n,"y",-1),bottom:f(p,"y",1)}}):d.axes={y:{left:{x:f,z:0,xDir:{x:1,y:0,z:0}},right:{x:k,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:h,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:n,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:D?k:f,y:h,xDir:D?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:D?k:f,y:n,xDir:D?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return d};b.prototype.getScale=function(b){var a=
this.chart,c=a.plotLeft,d=a.plotWidth+c,e=a.plotTop,f=a.plotHeight+e,k=c+a.plotWidth/2,h=e+a.plotHeight/2,n=Number.MAX_VALUE,m=-Number.MAX_VALUE,g=Number.MAX_VALUE,r=-Number.MAX_VALUE,q=1;var p=[{x:c,y:e,z:0},{x:c,y:e,z:b}];[0,1].forEach(function(b){p.push({x:d,y:p[b].y,z:p[b].z})});[0,1,2,3].forEach(function(b){p.push({x:p[b].x,y:f,z:p[b].z})});p=l(p,a,!1);p.forEach(function(b){n=Math.min(n,b.x);m=Math.max(m,b.x);g=Math.min(g,b.y);r=Math.max(r,b.y)});c>n&&(q=Math.min(q,1-Math.abs((c+k)/(n+k))%1));
d<m&&(q=Math.min(q,(d-k)/(m-k)));e>g&&(q=0>g?Math.min(q,(e+h)/(-g+e+h)):Math.min(q,1-(e+h)/(g+h)%1));f<r&&(q=Math.min(q,Math.abs((f-h)/(r-h))));return q};return b}();a.Composition=L;a.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}};a.compose=function(c,e){var l=c.prototype;e=e.prototype;l.is3d=function(){return this.options.chart.options3d&&
this.options.chart.options3d.enabled};l.propsRequireDirtyBox.push("chart.options3d");l.propsRequireUpdateSeries.push("chart.options3d");e.matrixSetter=function(){if(1>this.pos&&(r(this.start)||r(this.end))){var b=this.start||[1,0,0,1,0,0],a=this.end||[1,0,0,1,0,0];var c=[];for(var d=0;6>d;d++)c.push(this.pos*a[d]+(1-this.pos)*b[d])}else c=this.end;this.elem.attr(this.prop,c,null,!0)};B(!0,b,a.defaultOptions);m(c,"init",v);m(c,"addSeries",n);m(c,"afterDrawChartBox",g);m(c,"afterGetContainer",q);m(c,
"afterInit",p);m(c,"afterSetChartSize",k);m(c,"beforeRedraw",t);m(c,"beforeRender",h);f(d.Chart.prototype,"isInsidePlot",u);f(c,"renderSeries",w);f(c,"setClassName",x)}})(q||(q={}));q.compose(p,v);t.ZChartComposition.compose(p);u.compose(a);"";return q});C(a,"Core/Series/Series3D.js",[a["Extensions/Math3D.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(a,u,p){var v=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,
a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),d=a.perspective;a=p.addEvent;var x=p.extend,g=p.merge,w=p.pick,t=p.isNumber;p=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}v(c,a);c.prototype.translate=function(){a.prototype.translate.apply(this,arguments);this.chart.is3d()&&this.translate3dPoints()};
c.prototype.translate3dPoints=function(){var b=this.options,a=this.chart,c=w(this.zAxis,a.options.zAxis[0]),g=[],e,f=[];this.zPadding=(b.stacking?t(b.stack)?b.stack:0:this.index||0)*(b.depth||0+(b.groupZPadding||1));for(e=0;e<this.data.length;e++){b=this.data[e];if(c&&c.translate){var q=c.logarithmic&&c.val2lin?c.val2lin(b.z):b.z;b.plotZ=c.translate(q);b.isInside=b.isInside?q>=c.min&&q<=c.max:!1}else b.plotZ=this.zPadding;b.axisXpos=b.plotX;b.axisYpos=b.plotY;b.axisZpos=b.plotZ;g.push({x:b.plotX,
y:b.plotY,z:b.plotZ});f.push(b.plotX||0)}this.rawPointsX=f;a=d(g,a,!0);for(e=0;e<this.data.length;e++)b=this.data[e],c=a[e],b.plotX=c.x,b.plotY=c.y,b.plotZ=c.z};c.defaultOptions=g(u.defaultOptions);return c}(u);a(u,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});x(u.prototype,{translate3dPoints:p.prototype.translate3dPoints});return p});C(a,"Series/Column3D/Column3DComposition.js",[a["Series/Column/ColumnSeries.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Extensions/Math3D.js"],
a["Core/Series/SeriesRegistry.js"],a["Extensions/Stacking.js"],a["Core/Utilities.js"]],function(a,u,p,v,d,x,g){function w(b,a){var c=b.series,d={},e,f=1;c.forEach(function(b){e=B(b.options.stack,a?0:c.length-1-b.index);d[e]?d[e].series.push(b):(d[e]={series:[b],position:f},f++)});d.totalStacks=f+1;return d}function t(b){var a=b.apply(this,[].slice.call(arguments,1));this.chart.is3d&&this.chart.is3d()&&(a.stroke=this.options.edgeColor||a.fill,a["stroke-width"]=B(this.options.edgeWidth,1));return a}
function l(b,a,c){var d=this.chart.is3d&&this.chart.is3d();d&&(this.options.inactiveOtherPoints=!0);b.call(this,a,c);d&&(this.options.inactiveOtherPoints=!1)}function c(b){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:b.apply(this,a)}var b=a.prototype,m=u.svg,r=v.perspective;u=g.addEvent;var B=g.pick;g=g.wrap;g(b,"translate",function(b){b.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.translate3dShapes()});
g(p.prototype,"justifyDataLabel",function(b){return arguments[2].outside3dPlot?!1:b.apply(this,[].slice.call(arguments,1))});b.translate3dPoints=function(){};b.translate3dShapes=function(){var b=this,a=b.chart,c=b.options,d=c.depth,m=(c.stacking?c.stack||0:b.index)*(d+(c.groupZPadding||1)),g=b.borderWidth%2?.5:0,l;a.inverted&&!b.yAxis.reversed&&(g*=-1);!1!==c.grouping&&(m=0);m+=c.groupZPadding||1;b.data.forEach(function(c){c.outside3dPlot=null;if(null!==c.y){var e=c.shapeArgs,f=c.tooltipPos,h;[["x",
"width"],["y","height"]].forEach(function(a){h=e[a[0]]-g;0>h&&(e[a[1]]+=e[a[0]]+g,e[a[0]]=-g,h=0);h+e[a[1]]>b[a[0]+"Axis"].len&&0!==e[a[1]]&&(e[a[1]]=b[a[0]+"Axis"].len-e[a[0]]);if(0!==e[a[1]]&&(e[a[0]]>=b[a[0]+"Axis"].len||e[a[0]]+e[a[1]]<=g)){for(var d in e)e[d]=0;c.outside3dPlot=!0}});"rect"===c.shapeType&&(c.shapeType="cuboid");e.z=m;e.depth=d;e.insidePlotArea=!0;l={x:e.x+e.width/2,y:e.y,z:m+d/2};a.inverted&&(l.x=e.height,l.y=c.clientX);c.plot3d=r([l],a,!0,!1)[0];f=r([{x:f[0],y:f[1],z:m+d/2}],
a,!0,!1)[0];c.tooltipPos=[f.x,f.y]}});b.z=m};g(b,"animate",function(b){if(this.chart.is3d()){var a=arguments[1],c=this.yAxis,d=this,e=this.yAxis.reversed;m&&(a?d.data.forEach(function(b){null!==b.y&&(b.height=b.shapeArgs.height,b.shapey=b.shapeArgs.y,b.shapeArgs.height=1,e||(b.shapeArgs.y=b.stackY?b.plotY+c.translate(b.stackY):b.plotY+(b.negative?-b.height:b.height)))}):(d.data.forEach(function(b){null!==b.y&&(b.shapeArgs.height=b.height,b.shapeArgs.y=b.shapey,b.graphic&&b.graphic.animate(b.shapeArgs,
d.options.animation))}),this.drawDataLabels()))}else b.apply(this,[].slice.call(arguments,1))});g(b,"plotGroup",function(b,a,c,d,m,g){"dataLabelsGroup"!==a&&this.chart.is3d()&&(this[a]&&delete this[a],g&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(g)),this[a]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[a].survive=!0,"group"===a||"markerGroup"===a))&&(arguments[3]="visible");return b.apply(this,Array.prototype.slice.call(arguments,
1))});g(b,"setVisible",function(b,a){var c=this,d;c.chart.is3d()&&c.data.forEach(function(b){d=(b.visible=b.options.visible=a="undefined"===typeof a?!B(c.visible,b.visible):a)?"visible":"hidden";c.options.data[c.data.indexOf(b)]=b.options;b.graphic&&b.graphic.attr({visibility:d})});b.apply(this,Array.prototype.slice.call(arguments,1))});u(a,"afterInit",function(){if(this.chart.is3d()){var b=this.options,a=b.grouping,c=b.stacking,d=B(this.yAxis.options.reversedStacks,!0),m=0;if("undefined"===typeof a||
a){a=w(this.chart,c);m=b.stack||0;for(c=0;c<a[m].series.length&&a[m].series[c]!==this;c++);m=10*(a.totalStacks-a[m].position)+(d?c:-c);this.xAxis.reversed||(m=10*a.totalStacks-m)}b.depth=b.depth||25;this.z=this.z||0;b.zIndex=m}});g(b,"pointAttribs",t);g(b,"setState",l);g(b.pointClass.prototype,"hasNewShapeType",c);d.seriesTypes.columnRange&&(u=d.seriesTypes.columnrange.prototype,g(u,"pointAttribs",t),g(u,"setState",l),g(u.pointClass.prototype,"hasNewShapeType",c),u.plotGroup=b.plotGroup,u.setVisible=
b.setVisible);g(p.prototype,"alignDataLabel",function(b,a,c,d,m){var e=this.chart;d.outside3dPlot=a.outside3dPlot;if(e.is3d()&&this.is("column")){var f=this.options,g=B(d.inside,!!this.options.stacking),k=e.options.chart.options3d,n=a.pointWidth/2||0;f={x:m.x+n,y:m.y,z:this.z+f.depth/2};e.inverted&&(g&&(m.width=0,f.x+=a.shapeArgs.height/2),90<=k.alpha&&270>=k.alpha&&(f.y+=a.shapeArgs.width));f=r([f],e,!0,!1)[0];m.x=f.x-n;m.y=a.outside3dPlot?-9E9:f.y}b.apply(this,[].slice.call(arguments,1))});g(x.prototype,
"getStackBox",function(b,a,c,m,g,l,p,t){var e=b.apply(this,[].slice.call(arguments,1));if(a.is3d()&&c.base){var f=+c.base.split(",")[0],h=a.series[f];f=a.options.chart.options3d;h&&h instanceof d.seriesTypes.column&&(h={x:e.x+(a.inverted?p:l/2),y:e.y,z:h.options.depth/2},a.inverted&&(e.width=0,90<=f.alpha&&270>=f.alpha&&(h.y+=l)),h=r([h],a,!0,!1)[0],e.x=h.x-l/2,e.y=h.y)}return e});"";return a});C(a,"Series/Pie3D/Pie3DPoint.js",[a["Core/Series/SeriesRegistry.js"]],function(a){var u=this&&this.__extends||
function(){var a=function(d,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g])};return a(d,p)};return function(d,p){function g(){this.constructor=d}a(d,p);d.prototype=null===p?Object.create(p):(g.prototype=p.prototype,new g)}}();a=a.seriesTypes.pie.prototype.pointClass;var p=a.prototype.haloPath;return function(a){function d(){var d=null!==a&&a.apply(this,arguments)||this;d.series=void 0;return d}
u(d,a);d.prototype.haloPath=function(){return this.series.chart.is3d()?[]:p.apply(this,arguments)};return d}(a)});C(a,"Series/Pie3D/Pie3DSeries.js",[a["Core/Globals.js"],a["Series/Pie3D/Pie3DPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,u,p,v){var d=this&&this.__extends||function(){var a=function(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return a(d,c)};
return function(d,c){function b(){this.constructor=d}a(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),x=a.deg2rad,g=a.svg;a=v.extend;var w=v.pick;p=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}d(l,a);l.prototype.addPoint=function(){a.prototype.addPoint.apply(this,arguments);this.chart.is3d()&&this.update(this.userOptions,!0)};l.prototype.animate=function(c){if(this.chart.is3d()){var b=this.options.animation;var d=this.center;var l=this.group,
p=this.markerGroup;g&&(!0===b&&(b={}),c?(l.oldtranslateX=w(l.oldtranslateX,l.translateX),l.oldtranslateY=w(l.oldtranslateY,l.translateY),d={translateX:d[0],translateY:d[1],scaleX:.001,scaleY:.001},l.attr(d),p&&(p.attrSetters=l.attrSetters,p.attr(d))):(d={translateX:l.oldtranslateX,translateY:l.oldtranslateY,scaleX:1,scaleY:1},l.animate(d,b),p&&p.animate(d,b)))}else a.prototype.animate.apply(this,arguments)};l.prototype.drawDataLabels=function(){if(this.chart.is3d()){var c=this.chart.options.chart.options3d;
this.data.forEach(function(a){var b=a.shapeArgs,d=b.r,g=(b.start+b.end)/2;a=a.labelPosition;var e=a.connectorPosition,f=-d*(1-Math.cos((b.alpha||c.alpha)*x))*Math.sin(g),l=d*(Math.cos((b.beta||c.beta)*x)-1)*Math.cos(g);[a.natural,e.breakAt,e.touchingSliceAt].forEach(function(a){a.x+=l;a.y+=f})})}a.prototype.drawDataLabels.apply(this,arguments)};l.prototype.pointAttribs=function(c){var b=a.prototype.pointAttribs.apply(this,arguments),d=this.options;this.chart.is3d()&&!this.chart.styledMode&&(b.stroke=
d.edgeColor||c.color||this.color,b["stroke-width"]=w(d.edgeWidth,1));return b};l.prototype.translate=function(){a.prototype.translate.apply(this,arguments);if(this.chart.is3d()){var c=this,b=c.options,d=b.depth||0,g=c.chart.options.chart.options3d,l=g.alpha,e=g.beta,f=b.stacking?(b.stack||0)*d:c._i*d;f+=d/2;!1!==b.grouping&&(f=0);c.data.forEach(function(a){var g=a.shapeArgs;a.shapeType="arc3d";g.z=f;g.depth=.75*d;g.alpha=l;g.beta=e;g.center=c.center;g=(g.end+g.start)/2;a.slicedTranslation={translateX:Math.round(Math.cos(g)*
b.slicedOffset*Math.cos(l*x)),translateY:Math.round(Math.sin(g)*b.slicedOffset*Math.cos(l*x))}})}};return l}(p.seriesTypes.pie);a(p,{pointClass:u});"";return p});C(a,"Series/Pie3D/Pie3DComposition.js",[a["Series/Pie3D/Pie3DPoint.js"],a["Series/Pie3D/Pie3DSeries.js"],a["Core/Series/SeriesRegistry.js"]],function(a,u,p){p.seriesTypes.pie.prototype.pointClass.prototype.haloPath=a.prototype.haloPath;p.seriesTypes.pie=u});C(a,"Series/Scatter3D/Scatter3DPoint.js",[a["Series/Scatter/ScatterSeries.js"]],function(a){var u=
this&&this.__extends||function(){var a=function(p,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g])};return a(p,d)};return function(p,d){function v(){this.constructor=p}a(p,d);p.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}}();return function(a){function p(){var d=null!==a&&a.apply(this,arguments)||this;d.options=void 0;d.series=void 0;return d}u(p,a);p.prototype.applyOptions=
function(){a.prototype.applyOptions.apply(this,arguments);"undefined"===typeof this.z&&(this.z=0);return this};return p}(a.prototype.pointClass)});C(a,"Series/Scatter3D/Scatter3DSeries.js",[a["Extensions/Math3D.js"],a["Series/Scatter3D/Scatter3DPoint.js"],a["Series/Scatter/ScatterSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,u,p,v,d){var x=this&&this.__extends||function(){var a=function(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=
c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(d,c)};return function(d,c){function b(){this.constructor=d}a(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),g=a.pointCameraDistance;a=d.extend;var w=d.merge;d=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}x(d,a);d.prototype.pointAttribs=function(c){var b=a.prototype.pointAttribs.apply(this,arguments);this.chart.is3d()&&
c&&(b.zIndex=g(c,this.chart));return b};d.defaultOptions=w(p.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}});return d}(p);a(d.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:u});v.registerSeriesType("scatter3d",d);"";return d});C(a,"Series/Area3DSeries.js",[a["Extensions/Math3D.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,
u,p){var v=a.perspective;a=u.seriesTypes;var d=a.line,x=p.pick;p=p.wrap;p(a.area.prototype,"getGraphPath",function(a){var g=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return g;var p=d.prototype.getGraphPath,l=this.options;var c=[];var b=[],m,r=x(l.connectNulls,"percent"===l.stacking),u=Math.round(this.yAxis.getThreshold(l.threshold));if(this.rawPointsX)for(m=0;m<this.points.length;m++)c.push({x:this.rawPointsX[m],y:l.stacking?this.points[m].yBottom:u,z:this.zPadding});this.chart.options&&
this.chart.options.chart&&(l=this.chart.options.chart.options3d,c=v(c,this.chart,!0).map(function(a){return{plotX:a.x,plotY:a.y,plotZ:a.z}}),this.group&&l&&l.depth&&l.beta&&(this.markerGroup&&(this.markerGroup.add(this.group),this.markerGroup.attr({translateX:0,translateY:0})),this.group.attr({zIndex:Math.max(1,270<l.beta||90>l.beta?l.depth-Math.round(this.zPadding||0):Math.round(this.zPadding||0))})));c.reversed=!0;c=p.call(this,c,!0,!0);c[0]&&"M"===c[0][0]&&(c[0]=["L",c[0][1],c[0][2]]);this.areaPath&&
(c=this.areaPath.splice(0,this.areaPath.length/2).concat(c),c.xMap=this.areaPath.xMap,this.areaPath=c,p.call(this,b,!1,r));return g})});C(a,"masters/highcharts-3d.src.js",[],function(){})});
//# sourceMappingURL=highcharts-3d.js.map